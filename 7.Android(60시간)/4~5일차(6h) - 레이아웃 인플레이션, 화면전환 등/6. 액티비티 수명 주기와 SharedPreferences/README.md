# 액티비티의 수명주기와 SharedPreferences 이해하기

- 안드로이드 시스템은 실행되는 앱의 상태를 직접 관리합니다. 이는 대부분의 모바일 OS에서 사용하는 방법인데 독립적인 앱이 시스템에 의해 관리되지 않으면, 실행된 앱이 메모리를 과도하게 점유하거나 화면을 보여주는 권한을 과도하게 갖기 때문에 전화기의 원래 기능인 전화 수신 또는 발신 기능을 사용하지 못할 수도 있습니다. 특히, 안드로이드가 지원하는 멀티태스킹처럼 음악을 들으면서도 웹사이트를 검색하는 등 여러 개의 앱이 동시에 실행되는 기능은 앱이 실행되는 환경을 시스템이 계속 모니터링해야 할 필요가 있게 만듭니다.

- 앞에서 이전에 실행한 액티비티는 액티비티 스택에 보관하다가 현재 화면에 보이는 액티비티가 사라지면 다시 이전 액티비티가 동작하는 과정을 거친다고 했습니다. 이 때문에 하나의 액티비티가 화면에보이거나 보이지 않게 되었을 때 다른 액티비티의 상태에 영향을 미칠 수 있습니다. 예를 들어, 여러분이 만든 앱이 실행되는 도중에 전화가 오면 단말의 통화 앱이 화면에 나타나기 때문에 여러분의 앱 화면은 다른 화면 뒤로 들어가 중지될 수 있습니다.

- 이처럼 액티비티는 처음 실행될 때 메모리에 만들어지는 과정부터 시작해서 실행과 중지, 그리고 메모리에서 해제되는 여러 과정의 상태 정보로 갖고 있으며, 이런 상태 정보는 시스템이 관리하면서 각각의 상태에 해당하는 메서드를 자동으로 호출하게 됩니다. 예를 들어, 액티비티에 기본으로 만들어져 있는 onCreate() 메서드는 액티비티가 만들어질 때 시스템이 자동으로 호출하는 메서드입니다. 이러한 상태는 여러 가지가 있는데 대표적인 상태 정보는 다음과 같습니다.

- 액티비티의 대표적인 상태 정보

|상태|설명|
|-----|-------|
|실행(Running)|화면상에 액티비티가 보이면서 실행되어 있는 상태, 액티비티 스택의 최상위에 있으며 포커스를 가지고 있음|
|일시 정지(Paused)|사용자에게 보이지만 다른 액티비티가 위에 있어 포커스를 받지 못하는 상태<br>대화상자가 위에 있어 일부가 가려진 경우에 해당함|
|중지(Stopped)|다른 액티비티에 의해 완전히 가려져 보이지 않는 상태|

- 이렇게 액티비티의 상태 정보가 변화하는 것을 액티비티의 '<b>수명주기(Life Cycle)</b>' 또는 생명주기라 하며 액티비티가 처음 만들어진 후 없어질 때까지 상태가 변화하면서 각각에 해당하는 메서드가 자동으로 호출됩니다. 다음은 액티비티의 수명주기를 다이어그램으로 보여줍니다.

