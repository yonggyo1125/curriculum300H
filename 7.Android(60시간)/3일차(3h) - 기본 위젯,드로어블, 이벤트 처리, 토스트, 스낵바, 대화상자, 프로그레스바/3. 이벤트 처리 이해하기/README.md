# 이벤트 처리 이해하기

- 윈도우 화면에서 마우스로 왼쪽 버튼으로 폴더를 더블 클릭하면 폴더가 열리고 바탕화면에서 마우스 오른쪽 버튼을 누르면 메뉴가 펼쳐지는 등의 기능은 마우스 클릭에 대한 이벤트를 처리해야 구현할 수 있습니다. 안드로이드도 마찬가지입니다. 사용자의 화면 터치에 대한 이벤트를 처리해야 여러 기능을 구현할 수 있습니다.

## 이벤트 처리 방식

- 안드로이드의 이벤트는 윈도우의 이벤트와 조금 다릅니다. 윈도우는 주로 마우스, 키보드로 조작하지만 안드로이드는 손가락 터치 방식으로 조작하기 때문입니다. 그리고 손가락으로 화면을 터치하면 ‘터치 이벤트(Touch Event)'가 발생합니다. 이 밖의 안드로이드 폰의 주요 이벤트로는 실제 버튼이나 소프트 키패드를 누르면 발생하는 '키 이벤트(Key Event)'도 있습니다.

- 터치 이벤트는 가장 많이 사용되는 이벤트이기 때문에 어떻게 처리하는지 정확하게 이해하는 것이 중요합니다. 그런데 터치 이벤트는 생각보다 복잡합니다. 손가락으로 누를 때, 누른 상태에서 움직일 때, 누른 상태에서 뗄 때 모두 다르게 처리해야 하죠. 그래서 터치 이벤트를 쉽게 처리할 수 있도록 '클릭 이벤트(Click Event)'를 별도로 제공합니다.

- 예를 들어, 버튼 태그에 onClick 속성을 추가하면 버튼을 클릭했을 때 발생하는 이벤트를 처리할 수 있습니다. 이 속성 값에 소스 코드에서 정의할 메서드 이름을 넣으면 되죠. 이렇게 하면 버튼에 발생하는클릭 이벤트를 속성 값에 지정한 메서드로 전달할 수 있습니다. XML이 아니라 소스 코드에서 클릭 이벤트를 처리하도록 하려면 버튼의setOnClickListener 메서드를 이용해 리스너를 설정할 수 있습니다.

- 이와 같은 이벤트 처리 방식은 화면에서 발생하는 이벤트를 버튼과 같은 위젯 객체에 전달한 후 그 이후의 처리 과정을 버튼에 위임한다고 해서 '위임 모델(Delegation Model)'이라고 부릅니다. 코드를 만들 때 사용하는 이 패턴은 각각의 뷰마다 하나의 이벤트 처리 루틴을 할당해 줍니다. 이렇게 하면 이벤트를 이벤트 루프에서 받아 처리할 때처럼 코드가 복잡해지지 않고 이벤트를 위젯마다 개별적으로 처리하는 객체 지향 코드를 만들 수 있습니다. 위임 모델은 각각의 이벤트를 처리할 수 있는 리스너(Listener) 인터페이스를 등록할 수 있도록 합니다. OnClickListener는 이벤트가 발생하면 즉시 동작할 수 있도록 만들어주는 리스너 중 하나입니다. 다음은 OnClickListener 사용 방식을 다이어그램으로 표현한 것입니다.








