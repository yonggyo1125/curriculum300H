# 프로그레스바 사용하기

- 어떤 일의 진행 상태를 중간 중간 보여줄 수 있는 가장 좋은 방법 중 하나가 프로그레스바입니다. 프로그레스바는 작업의 진행 정도를 표시하거나 작업이 진행 중임을 사용자에게 알려줍니다. 다음은 대표적인 두 가지 형태의 프로그레스바를 표로 정리한 것입니다.

|속성|설명|
|----|-------|
|막대모양|작업의 진행 정도를 알려줄 수 있도록 막대모양으로 표시합니다.<br>style 속성 값을 '?android-attr/progressBarStyleHorizontal'로 설정합니다.|
|원 모양|작업이 진행 중임을 알려줍니다.<br>원 모양으로 된 프로그레스바가 반복적으로 표시됩니다.|

- XML 레이아웃에 프로그레스바를 추가할 때는 \<ProgressBar\> 태그가 사용되는데, 프로그레스바가 갖는 값의 최대 범위는 max 속성으로 설정하고 현재 값은 progress 속성으로 설정합니다. 예를 들어, 값의 최대 범위가 100이면 max 값을 100으로 설정하고 현재 진행률이 50%라면 max 값이 100이므로 progress 값을 50으로 설정하면 됩니다. 진행률이 변경되면 progress 속성으로 설정되었던 값을 바꾸면 됩니다. 자바 코드에서 프로그레스바의 현재 값을 바꿀 때 사용하는 대표적인 메서드들은 다음과 같습니다.

```java 
void setProgress (int progress)
void incrementProgressBy (int diff)
```

- setProgress 메서드는 정수 값을 받아 프로그레스바의 현재 값으로 설정합니다. incrementProgressBy 메서드는 현재 설정되어 있는 값을 기준으로 값을 더하거나 뺄 때 사용합니다. 프로그레스바는 항상 보일 필요가 없으므로 화면에서 차지하는 공간을 줄일 수 있도록 타이틀바에 프로그레스바를 표시할 수도 있습니다. 이 기능은 윈도우 속성으로 정의되어 있으므로 다음과 같은 메서드를 사용해야 합니다.

```java
requestWindowFeature(Window.FEATURE_PROGRESS);
```

- 타이틀 부분에 표시되는 프로그레스바는 범위를 따로 지정할 수 없으며 디폴트 값으로는 0부터 10000 사이의 값을 가질 수 있습니다. 따라서 진행률이 50%인 경우에는 프로그레스바의 현재 값을 5000으로 설정해야 합니다. 타이틀바에 프로그레스바를 보여주는 방식은 화면의 공간을 절약하는 매우 직관적인 방식이긴 하지만 앱을 만들 때는 타이틀 부분을 보이지 않게 설정하는 경우가 많으므로 사용할 수 없는 경우도 생긴다는 점에 주의해야 합니다.


- 프로그레스바를 사용해 보기 위해 새로운 SampleProgress 프로젝트를 만듭니다. 그리고 activity_main.xml 파일을 연 후 디자인 화면의 Component Tree에서 최상위 레이아웃을 LinearLayout으로 변경합니다. LinearLayout의 orientation 속성은 vertical로 변경하고 텍스트뷰는 삭제합니다.

- 좌측 상단의 팔레트에서 Widgets 폴더 안에 들어 있는 ProgressBar (Horizontal)를 찾아 화면에 끌어다 놓습니다. 그리고 max 속성의 값은 100으로 설정합니다. 그런 다음 프로그레스바 아래에 두 개의 버튼을 나란히 추가하기 위해서 LinearLayout(horizontal)을 추가한 후 버튼은 각각 '보여주기'와 '닫기' 글자가 보이도록 text 속성을 설정합니다. 이렇게 하면 다음과 같은 XML 레이아웃이 만들어집니다.


